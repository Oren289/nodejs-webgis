<div class="container mt-5">
  <div class="row mt-4">
    <div class="col">
      <div class="card shadow-sm">
        <div class="card-header">
          <h3 class="fw-bold text-center mb-3" style="margin-top: 1rem; color: #80489c">Peta Sebaran Sekolah di Kota Jambi</h3>
        </div>
        <div class="card-body">
          <div id="mapid"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  const school = <%- JSON.stringify(sekolah) %>;

  var map = L.map('mapid').setView([-1.610795, 103.612945], 13);
  L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox/streets-v11',
    tileSize: 512,
    zoomOffset: -1,
    accessToken: 'pk.eyJ1IjoicGluZ2dhbmd0YXJ1bmEiLCJhIjoiY2t4OWx1ZDM4MHgwczJwcnlkNmZlam03OSJ9.NV0wyOSuc2obO7enh_sisg',
  }).addTo(map);

  school.forEach((item) => {
    var marker = L.marker([item.latitude, item.longitude]).addTo(map).bindPopup(
      '<b>'+item.nama_sekolah+'</b><br>Kategori: ' + item.jenis_sekolah + '<br>Alamat: ' + item.alamat + '<br>Koordinat: ' + item.latitude + ", " + item.longitude
    );
  });
</script>
